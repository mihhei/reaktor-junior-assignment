(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{25:function(e,t,c){},35:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c(1),s=c.n(r),a=c(18),i=c.n(a),l=(c(25),c(9)),j=c(2),b=c(8),d=c.n(b),u=c(11),o=c(7),h=function(){var e=Object(r.useState)(!1),t=Object(o.a)(e,2),c=t[0],n=t[1],s=Object(r.useState)(null),a=Object(o.a)(s,2),i=a[0],l=a[1];return{loading:c,request:Object(r.useCallback)(function(){var e=Object(u.a)(d.a.mark((function e(t){var c,r,s,a,i,j=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=j.length>1&&void 0!==j[1]?j[1]:"GET",r=j.length>2&&void 0!==j[2]?j[2]:null,s=j.length>3&&void 0!==j[3]?j[3]:{},n(!0),e.prev=4,r&&(r=JSON.stringify(r),s["Content-Type"]="application/json"),e.next=8,fetch(t,{method:c,body:r,headers:s});case 8:return a=e.sent,e.next=11,a.json();case 11:if(i=e.sent,a.ok){e.next=14;break}throw new Error(i.message||"Somthing wrong!");case 14:return n(!1),e.abrupt("return",i);case 18:throw e.prev=18,e.t0=e.catch(4),n(!1),l(e.t0.message),e.t0;case 23:case"end":return e.stop()}}),e,null,[[4,18]])})));return function(t){return e.apply(this,arguments)}}(),[]),error:i,clearError:Object(r.useCallback)((function(){l(null)}),[])}},O=function(){return Object(n.jsx)("div",{style:{display:"flex",justifyContent:"center",paddingTop:"2rem"},children:Object(n.jsx)("div",{className:"preloader-wrapper active",children:Object(n.jsxs)("div",{className:"spinner-layer spinner-blue-only",children:[Object(n.jsx)("div",{className:"circle-clipper left",children:Object(n.jsx)("div",{className:"circle"})}),Object(n.jsx)("div",{className:"gap-patch",children:Object(n.jsx)("div",{className:"circle"})}),Object(n.jsx)("div",{className:"circle-clipper right",children:Object(n.jsx)("div",{className:"circle"})})]})})})},x=function(e){var t=e.data,c=e.manufacturer,s=Object(r.useState)("in progress"),a=Object(o.a)(s,2),i=a[0],l=a[1],j=Object(r.useCallback)((function(){var e,n,r=c.find((function(e){return e.id.toLowerCase()===t}));if(r){var s=(e=r.DATAPAYLOAD.toLowerCase(),n="instockvalue",e.substring(e.lastIndexOf("<"+n+">")+("<"+n+">").length,e.lastIndexOf("</"+n+">")));l(s)}else l("no data")}),[t,c]);return Object(r.useEffect)((function(){j()}),[j]),Object(n.jsx)("div",{children:i})},f=function(e){var t=e.lastDate,c=h().request,s=Object(r.useState)(""),a=Object(o.a)(s,2),i=a[0],l=a[1],j=Object(r.useCallback)(Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c("/update","GET",null);case 3:e.sent!==t&&l("update available"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),l("server no answer");case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[c,l,t]);return Object(r.useEffect)((function(){setInterval(j,3e4)}),[j]),i?Object(n.jsx)("div",{style:{opacity:"0.6"},children:i}):Object(n.jsx)("div",{style:{visibility:"hidden"},children:"update available"})},p=function(e){var t=e.data,c=e.item,r=e.reload;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("table",{children:Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:c.toUpperCase()}),Object(n.jsxs)("th",{children:["Last update ",t.update]}),Object(n.jsx)("th",{children:Object(n.jsx)(f,{lastDate:t.update})}),Object(n.jsx)("th",{children:Object(n.jsx)("button",{className:"btn grey lighten-1 black-text",onClick:r.bind(null),children:"Reload"})})]})})}),Object(n.jsxs)("table",{children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"#"}),Object(n.jsx)("th",{children:"Name"}),Object(n.jsx)("th",{children:"Price"}),Object(n.jsx)("th",{children:"Manufacturer"}),Object(n.jsx)("th",{children:"Info"})]})}),Object(n.jsx)("tbody",{children:t.items[c].map((function(e,c){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:c+1}),Object(n.jsx)("td",{children:e.name}),Object(n.jsx)("td",{children:e.price}),Object(n.jsx)("td",{children:e.manufacturer}),Object(n.jsx)("td",{children:Object(n.jsx)(x,{data:e.id,manufacturer:t.manufacturers[e.manufacturer]})})]},e.id)}))})]})]})},v=function(e){var t=e.item,c=Object(r.useState)(),s=Object(o.a)(c,2),a=s[0],i=s[1],l=Object(r.useState)({}),j=Object(o.a)(l,2),b=j[0],x=j[1],f=Object(r.useState)(""),v=Object(o.a)(f,2),m=v[0],g=v[1],k=h().request,y=Object(r.useCallback)(Object(u.a)(d.a.mark((function e(){var t,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k("/data","GET",null);case 3:t=e.sent,c=JSON.parse(t),Object.keys(c).length&&Object.keys(c.items).length&&Object.keys(c.manufacturers).length?x(c):g("incorrect data from server"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),g("server no answer");case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[k]);Object(r.useEffect)((function(){return y(),i(t),function(){x({})}}),[y,t]);return m?Object(n.jsxs)("div",{className:"center",children:[Object(n.jsx)("div",{children:m}),Object(n.jsx)("button",{className:"btn grey lighten-1 black-text",onClick:function(){g(""),y()},children:"Reload"})]}):Object.keys(b).length?Object(n.jsx)(p,{data:b,item:a,reload:function(){x({}),y()}}):Object(n.jsx)(O,{})},m=(c(34),function(){return Object(n.jsx)("div",{class:"navbar-fixed",children:Object(n.jsx)("nav",{children:Object(n.jsxs)("div",{class:"nav-wrapper blue darken-1",style:{padding:"0 2rem"},children:[Object(n.jsx)("span",{class:"brand-logo",children:"Your Clothes Inc"}),Object(n.jsxs)("ul",{id:"nav-mobile",class:"right hide-on-med-and-down",children:[Object(n.jsx)("li",{children:Object(n.jsx)(l.b,{to:"/beanies",children:"Beanies"})}),Object(n.jsx)("li",{children:Object(n.jsx)(l.b,{to:"/gloves",children:"Gloves"})}),Object(n.jsx)("li",{children:Object(n.jsx)(l.b,{to:"/facemasks",children:"Facemasks"})})]})]})})})});var g=function(){var e=Object(n.jsxs)(j.d,{children:[Object(n.jsx)(j.b,{path:"/facemasks",exact:!0,children:Object(n.jsx)(v,{item:"facemasks"})}),Object(n.jsx)(j.b,{path:"/gloves",exact:!0,children:Object(n.jsx)(v,{item:"gloves"})}),Object(n.jsx)(j.b,{path:"/beanies",exact:!0,children:Object(n.jsx)(v,{item:"beanies"})}),Object(n.jsx)(j.a,{to:"/"})]});return Object(n.jsxs)(l.a,{children:[Object(n.jsx)(m,{}),Object(n.jsx)("div",{className:"container",children:e})]})},k=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,36)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;c(e),n(e),r(e),s(e),a(e)}))};i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(g,{})}),document.getElementById("root")),k()}},[[35,1,2]]]);
//# sourceMappingURL=main.81395b48.chunk.js.map